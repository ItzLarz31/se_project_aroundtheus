!function(){"use strict";class e{constructor(e,t,s){let{name:n,link:r}=e;this._name=n,this._link=r,this._cardSelector=t,this._handleImageClick=s}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeButton()})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteButton()})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this._name,this._link)}))}_handleLikeButton(){this._likeButton.classList.toggle("card__like-button_active")}_handleDeleteButton(){this._cardElement.remove(),this._cardElement=null}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._likeButton=this._cardElement.querySelector(".card__like-button"),this._deleteButton=this._cardElement.querySelector(".card__delete-button"),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._formElement=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._borderErrorClass=e.borderErrorClass,this._setEventListeners()}_setEventListeners(){this._inputElements=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector),this._inputElements.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))})),this._formElement.addEventListener("submit",(e=>{e.preventDefault()}))}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_showInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._borderErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass),t.classList.add(this._inputErrorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._borderErrorClass),t.textContent="",t.classList.remove(this._errorClass),t.classList.remove(this._inputErrorClass)}_toggleButtonState(e,t){this._hasInvalidInput(e)?this._disableButton(t):this._enableButton(t)}_hasInvalidInput(e){return[...this._inputElements].some((e=>!e.validity.valid))}_disableButton(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}_enableButton(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault(),this._disableButton()})),this._setEventListeners(),this._toggleButtonState()}resetValidation(){this._inputElements.forEach((e=>{this._hideInputError(e)}))}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}}class n extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t}_getInputValues(){const e={};return this._inputList=this._popupForm.querySelectorAll(".modal__input"),this._inputList.forEach((t=>{e[t.name]=t.value})),e}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this._popupForm.reset(),this.close()}))}}const r={formSelector:".modal__container",inputSelector:".modal__input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible",borderErrorClass:"modal__input_border_error"},i=document.querySelector(".content").querySelector(".profile__edit-button"),o=(document.querySelector(".cards__list"),document.querySelector("#edit-modal")),a=o.querySelector(".modal__form"),l=o.querySelector("#profile-title-input"),c=o.querySelector("#profile-description-input"),u=document.querySelector(".cards__list"),_=document.querySelector("#card-modal").querySelector(".modal__form"),d=document.querySelector(".profile__add-button"),m=new t(r,_);m.enableValidation(),new t(r,a).enableValidation();const p=new n("#card-modal",(function(e){let{title:t,url:s}=e;g({name:t,link:s}),m.resetValidation(),p.close()}));p.setEventListeners();const h=new class extends s{constructor(e){super({popupSelector:e}),this._popupImage=this._popupElement.querySelector(".modal__image"),this._popupTitle=this._popupElement.querySelector(".modal__image-name")}open(e){let{link:t,name:s}=e;this._popupImage.src=t,this._popupTitle.textContent=s,this._popupImage.alt=s,super.open()}}("#image-modal");h.setEventListeners();const E=new n("#edit-modal",(function(e){let{name:t,description:s}=e;v.setUserInfo({name:t,description:s}),E.close()}));E.setEventListeners();const v=new class{constructor(e){let{nameSelector:t,jobSelector:s}=e;this._name=document.querySelector(t),this._job=document.querySelector(s)}getUserInfo(){return this._userData={name:this._name.textContent,description:this._job.textContent},this._userData}setUserInfo(e){let{name:t,description:s}=e;this._name.textContent=t,this._job.textContent=s}}({nameSelector:".profile__title",jobSelector:".profile__description"});function S(e,t){h.open({link:t,name:e})}function g(t){const s=new e(t,"#card-template",S).getView();u.prepend(s)}document.getElementById("profile-image").src="106962b8f339c0d473bf.jpg",new class{constructor(e,t){let{items:s,renderer:n}=e;this._items=s,this._renderer=n,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Yosemite Valley",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/yosemite.jpg"},{name:"Lake Louise",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lake-louise.jpg"},{name:"Bald Mountains",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/bald-mountains.jpg"},{name:"Latemar",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/latemar.jpg"},{name:"Vanoise National Park",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/vanoise.jpg"},{name:"Lago di Braies",link:"https://practicum-content.s3.us-west-1.amazonaws.com/software-engineer/around-project/lago.jpg"}],renderer:g},".cards__list").renderItems(),i.addEventListener("click",(()=>{E.open();const{name:e,description:t}=v.getUserInfo();l.value=e,c.value=t})),d.addEventListener("click",(()=>p.open()))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxDQUNFUixNRDFFb0IsQ0FDdEIsQ0FDRTdILEtBQU0sa0JBQ05DLEtBQU0sc0dBR1IsQ0FDRUQsS0FBTSxjQUNOQyxLQUFNLHlHQUdSLENBQ0VELEtBQU0saUJBQ05DLEtBQU0sNEdBR1IsQ0FDRUQsS0FBTSxVQUNOQyxLQUFNLHFHQUdSLENBQ0VELEtBQU0sd0JBQ05DLEtBQU0scUdBR1IsQ0FDRUQsS0FBTSxpQkFDTkMsS0FBTSxtR0MrQ042SCxTQUFVbkIsR0FFWixnQkFTVXVCLGNBa0JacEMsRUFBa0JyRixpQkFBaUIsU0FBUyxLQUMxQ3NHLEVBQWdCdEMsT0FDaEIsTUFBTSxLQUFFekUsRUFBSSxZQUFFZ0gsR0FBZ0JDLEVBQVNLLGNBQ3ZDckIsRUFBaUJQLE1BQVExRixFQUN6QmtHLEVBQXdCUixNQUFRc0IsQ0FBVyxJQUk3Q1gsRUFBYzVGLGlCQUFpQixTQUFTLElBQU04RixFQUFhOUIsUSIsInNvdXJjZXMiOlsid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgbGluayB9LCBjYXJkU2VsZWN0b3IsIGhhbmRsZUltYWdlQ2xpY2spIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl9saW5rID0gbGluaztcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgLy9cIi5jYXJkX19saWtlLWJ1dHRvblwiXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpO1xuICAgIH0pO1xuXG4gICAgLy9cIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbigpO1xuICAgIH0pO1xuXG4gICAgLy9zZXR0aW5nIGV2ZW50IGxpc3RlbmVyIG9uIGNhcmQgaW1hZ2VcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh0aGlzLl9uYW1lLCB0aGlzLl9saW5rKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlQnV0dG9uKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImNhcmRfX2xpa2UtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgfVxuXG4gIF9oYW5kbGVEZWxldGVCdXR0b24oKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSBudWxsO1xuICB9XG5cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fY2FyZFRpdGxlRWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ1dHRvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5jYXJkX19kZWxldGUtYnV0dG9uXCJcbiAgICApO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2JvcmRlckVycm9yQ2xhc3MgPSBjb25maWcuYm9yZGVyRXJyb3JDbGFzcztcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cyA9IFtcbiAgICAgIC4uLnRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvciksXG4gICAgXTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3JcbiAgICApO1xuXG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XG4gICAgaWYgKCFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2JvcmRlckVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmBcbiAgICApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2JvcmRlckVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgfVxuXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dEVsZW1lbnRzLCBzdWJtaXRCdXR0b24pIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0RWxlbWVudHMpKSB7XG4gICAgICB0aGlzLl9kaXNhYmxlQnV0dG9uKHN1Ym1pdEJ1dHRvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvbihzdWJtaXRCdXR0b24pO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuIFsuLi50aGlzLl9pbnB1dEVsZW1lbnRzXS5zb21lKFxuICAgICAgKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZFxuICAgICk7XG4gIH1cblxuICBfZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX2VuYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcbiAgICB9KTtcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRFbGVtZW50cy5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpIHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNhcmREYXRhID0gW1xuICB7XG4gICAgbmFtZTogXCJZb3NlbWl0ZSBWYWxsZXlcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QveW9zZW1pdGUuanBnXCIsXG4gIH0sXG5cbiAge1xuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGFrZS1sb3Vpc2UuanBnXCIsXG4gIH0sXG5cbiAge1xuICAgIG5hbWU6IFwiQmFsZCBNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXG4gIH0sXG5cbiAge1xuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYXRlbWFyLmpwZ1wiLFxuICB9LFxuXG4gIHtcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC92YW5vaXNlLmpwZ1wiLFxuICB9LFxuXG4gIHtcbiAgICBuYW1lOiBcIkxhZ28gZGkgQnJhaWVzXCIsXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXG4gIH0sXG5dO1xuXG5leHBvcnQgY29uc3QgdmFsaWRhdG9yQ29uZmlncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fY29udGFpbmVyXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmVcIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc2F2ZV9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxuICBib3JkZXJFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF9ib3JkZXJfZXJyb3JcIixcbn07XG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuaW1wb3J0IFwiLi4vcGFnZXMvaW5kZXguY3NzXCI7XG5pbXBvcnQgcHJvZmlsZVNyYyBmcm9tIFwiLi4vaW1hZ2VzL2phY3F1ZXMtY291c3RlYXUuanBnXCI7XG5pbXBvcnQgeyB2YWxpZGF0b3JDb25maWdzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuaW1wb3J0IHsgY2FyZERhdGEgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50cyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLy8gQ29udGVudFxuY29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKTtcbmNvbnN0IHByb2ZpbGVFZGl0QnV0dG9uID0gY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIpO1xuY29uc3QgY2FyZHNXcmFwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc19fbGlzdFwiKTtcblxuLy9Qcm9maWxlIE1vZGFsXG5jb25zdCBwcm9maWxlRWRpdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRGb3JtID0gcHJvZmlsZUVkaXRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuY29uc3QgcHJvZmlsZU1vZGFsTmFtZSA9IHByb2ZpbGVFZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlLWlucHV0XCIpO1xuY29uc3QgcHJvZmlsZU1vZGFsRGVzY3JpcHRpb24gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXG4gIFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIlxuKTtcblxuLy8gQ2FyZHNcbmNvbnN0IGNhcmRMaXN0RWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRzX19saXN0XCIpO1xuXG4vLyBDYXJkIE1vZGFsXG5jb25zdCBjYXJkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtbW9kYWxcIik7XG5jb25zdCBjYXJkRWRpdEZvcm0gPSBjYXJkTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbmNvbnN0IGNhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIik7XG5cbmNvbnN0IGFkZENhcmRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdG9yQ29uZmlncywgY2FyZEVkaXRGb3JtKTtcbmFkZENhcmRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgZWRpdFByb2ZpbGVGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoXG4gIHZhbGlkYXRvckNvbmZpZ3MsXG4gIHByb2ZpbGVFZGl0Rm9ybVxuKTtcbmVkaXRQcm9maWxlRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IG5ld0NhcmRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2NhcmQtbW9kYWxcIiwgaGFuZGxlQ2FyZEZvcm1TdWJtaXQpO1xubmV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IG5ld0ltYWdlUG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjaW1hZ2UtbW9kYWxcIik7XG5uZXdJbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IG5ld1Byb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICBcIiNlZGl0LW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0XG4pO1xubmV3UHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcbiAgbmFtZVNlbGVjdG9yOiBcIi5wcm9maWxlX190aXRsZVwiLFxuICBqb2JTZWxlY3RvcjogXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIixcbn0pO1xuXG5jb25zdCBwcm9maWxlSW1hZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGUtaW1hZ2VcIik7XG5wcm9maWxlSW1hZ2Uuc3JjID0gcHJvZmlsZVNyYztcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG4vKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdW5jdGlvbnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhuYW1lLCBsaW5rKSB7XG4gIG5ld0ltYWdlUG9wdXAub3Blbih7IGxpbmssIG5hbWUgfSk7XG59XG5cbmNvbnN0IGNhcmRTZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gIHtcbiAgICBpdGVtczogY2FyZERhdGEsXG4gICAgcmVuZGVyZXI6IHJlbmRlckNhcmQsXG4gIH0sXG4gIFwiLmNhcmRzX19saXN0XCJcbik7XG5cbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLCBcIiNjYXJkLXRlbXBsYXRlXCIsIGhhbmRsZUltYWdlQ2xpY2spO1xuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2V0VmlldygpO1xuICBjYXJkTGlzdEVsLnByZXBlbmQoY2FyZEVsZW1lbnQpO1xufVxuXG5jYXJkU2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuXG5mdW5jdGlvbiBoYW5kbGVQcm9maWxlRm9ybVN1Ym1pdCh7IG5hbWUsIGRlc2NyaXB0aW9uIH0pIHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiB9KTtcbiAgbmV3UHJvZmlsZVBvcHVwLmNsb3NlKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUNhcmRGb3JtU3VibWl0KHsgdGl0bGUsIHVybCB9KSB7XG4gIHJlbmRlckNhcmQoeyBuYW1lOiB0aXRsZSwgbGluazogdXJsIH0sIGNhcmRzV3JhcCk7XG4gIGFkZENhcmRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xuICBuZXdDYXJkUG9wdXAuY2xvc2UoKTtcbn1cblxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbi8qICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50IExpc3RlbmVycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLy8gUHJvZmlsZSBFZGl0IEJ1dHRvblxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgbmV3UHJvZmlsZVBvcHVwLm9wZW4oKTtcbiAgY29uc3QgeyBuYW1lLCBkZXNjcmlwdGlvbiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZU1vZGFsTmFtZS52YWx1ZSA9IG5hbWU7XG4gIHByb2ZpbGVNb2RhbERlc2NyaXB0aW9uLnZhbHVlID0gZGVzY3JpcHRpb247XG59KTtcblxuLy8gQ2FyZCBBZGQgQnV0dG9uXG5jYXJkQWRkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBuZXdDYXJkUG9wdXAub3BlbigpKTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wb3B1cEltYWdlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xuICAgIHRoaXMuX3BvcHVwVGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9faW1hZ2UtbmFtZVwiKTtcbiAgfVxuXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5fcG9wdXBUaXRsZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fcG9wdXBJbWFnZS5hbHQgPSBuYW1lO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7IG5hbWVTZWxlY3Rvciwgam9iU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihqb2JTZWxlY3Rvcik7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICB0aGlzLl91c2VyRGF0YSA9IHtcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fam9iLnRleHRDb250ZW50LFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3VzZXJEYXRhO1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiB9KSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fam9iLnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsIm5hbWUiLCJsaW5rIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJfbGlrZUJ1dHRvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlTGlrZUJ1dHRvbiIsIl9kZWxldGVCdXR0b24iLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZUVsIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiX2NhcmRFbGVtZW50IiwicmVtb3ZlIiwiZ2V0VmlldyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJfY2FyZFRpdGxlRWwiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9mb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9ib3JkZXJFcnJvckNsYXNzIiwiYm9yZGVyRXJyb3JDbGFzcyIsIl9pbnB1dEVsZW1lbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJmb3JFYWNoIiwiaW5wdXRFbGVtZW50IiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImV2dCIsInByZXZlbnREZWZhdWx0IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yRWxlbWVudCIsImlkIiwiYWRkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJpbnB1dEVsZW1lbnRzIiwic3VibWl0QnV0dG9uIiwiX2hhc0ludmFsaWRJbnB1dCIsIl9kaXNhYmxlQnV0dG9uIiwiX2VuYWJsZUJ1dHRvbiIsImlucHV0TGlzdCIsInNvbWUiLCJkaXNhYmxlZCIsImVuYWJsZVZhbGlkYXRpb24iLCJyZXNldFZhbGlkYXRpb24iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50Iiwib3BlbiIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInNldEV2ZW50TGlzdGVuZXJzIiwidGFyZ2V0IiwiY29udGFpbnMiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX3BvcHVwRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2dldElucHV0VmFsdWVzIiwiaW5wdXRWYWx1ZXMiLCJfaW5wdXRMaXN0IiwiaW5wdXQiLCJ2YWx1ZSIsInJlc2V0IiwidmFsaWRhdG9yQ29uZmlncyIsImZvcm1TZWxlY3RvciIsInByb2ZpbGVFZGl0QnV0dG9uIiwicHJvZmlsZUVkaXRNb2RhbCIsInByb2ZpbGVFZGl0Rm9ybSIsInByb2ZpbGVNb2RhbE5hbWUiLCJwcm9maWxlTW9kYWxEZXNjcmlwdGlvbiIsImNhcmRMaXN0RWwiLCJjYXJkRWRpdEZvcm0iLCJjYXJkQWRkQnV0dG9uIiwiYWRkQ2FyZEZvcm1WYWxpZGF0b3IiLCJuZXdDYXJkUG9wdXAiLCJfcmVmMiIsInRpdGxlIiwidXJsIiwicmVuZGVyQ2FyZCIsIm5ld0ltYWdlUG9wdXAiLCJfcG9wdXBJbWFnZSIsIl9wb3B1cFRpdGxlIiwibmV3UHJvZmlsZVBvcHVwIiwiZGVzY3JpcHRpb24iLCJ1c2VySW5mbyIsInNldFVzZXJJbmZvIiwibmFtZVNlbGVjdG9yIiwiam9iU2VsZWN0b3IiLCJfam9iIiwiZ2V0VXNlckluZm8iLCJfdXNlckRhdGEiLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50IiwicHJlcGVuZCIsImdldEVsZW1lbnRCeUlkIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImFkZEl0ZW0iLCJlbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==